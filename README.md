# 图片水印GUI应用

一个基于Python和PyQt5开发的图片水印处理工具，支持文本水印和图片水印，提供丰富的自定义选项和批量处理功能。

## 功能特性

### 文件处理
- 支持单张图片拖拽或通过文件选择器导入
- 支持批量导入多张图片或整个文件夹
- 显示已导入图片的缩略图列表
- 支持多种图片格式：JPEG, PNG(含透明通道), BMP, TIFF
- 导出格式可选：JPEG 或 PNG
- 自定义导出文件夹和命名规则（前缀、后缀）
- JPEG格式质量调节（0-100%）
- 导出时可调整图片尺寸

### 水印类型

#### 文本水印
- 自定义文本内容
- 字体选择（系统已安装字体）
- 字体大小、粗体、斜体设置
- 自定义文本颜色
- 透明度调节（0-100%）

#### 图片水印
- 支持选择本地图片作为水印
- 支持PNG透明通道
- 水印大小调节
- 透明度调节

### 水印布局与样式
- 实时预览水印效果
- 九宫格预设位置快速定位
- 鼠标拖拽自由调整水印位置
- 水印旋转角度调节

### 模板管理
- 保存当前水印设置为模板
- 加载、管理和删除已保存的模板
- 程序启动时自动加载上一次的设置

## 安装说明

### 环境要求
- Python 3.8 或更高版本

### 安装依赖

使用以下命令安装所需的Python库：

```bash
pip install -r requirements.txt
```

主要依赖：
- PyQt5: GUI框架
- Pillow: 图像处理
- OpenCV: 图像处理辅助
- NumPy: 数值计算

## 使用方法

1. 运行主程序：

```bash
python main.py
```

2. 通过"添加文件"或"添加文件夹"导入图片
3. 在右侧设置面板选择水印类型并进行相关设置
4. 调整水印位置、大小、透明度等参数
5. 点击"导出所选图片"保存添加水印后的图片

## 高级功能

### 批量处理
- 导入多张图片后，所有设置将应用到每张图片
- 导出时可选择统一的输出格式和命名规则

### 模板使用
- 设置好水印参数后，可在"模板管理"选项卡中保存当前设置
- 下次使用时直接加载模板，无需重复设置

## 项目结构

- `main.py`: 主程序文件，包含应用程序主体逻辑和界面
- `export_dialog.py`: 导出设置对话框
- `template_dialog.py`: 模板管理对话框
- `requirements.txt`: Python依赖列表

## 注意事项

- 为防止意外覆盖原文件，默认不允许导出到原图片所在文件夹
- 处理大尺寸图片时可能需要更多内存，请确保系统资源充足
- 透明水印在复杂背景下可能不够明显，建议适当调整透明度和颜色

## License

MIT License